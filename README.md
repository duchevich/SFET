![version](https://img.shields.io/badge/dynamic/json.svg?label=version&url=https%3A%2F%2Fraw.githubusercontent.com%2Fseniorro%2Fsfet%2Fmaster%2Fpackage.json&query=version&colorB=green)
![license](https://img.shields.io/badge/dynamic/json.svg?label=license&url=https%3A%2F%2Fraw.githubusercontent.com%2Fseniorro%2Fsfet%2Fmaster%2Fpackage.json&query=license&colorB=blue)

# Seniorro Front-End Toolkit (SFET)
SFET - это стек технологий для разработки front-end. Содержит:
- таски для системы сборки Gulp;
- упрощенную интерпретацию именования методологии БЭМ;
- микрофреймворк содержащий базовые блоки необходимые на каждом проекте;
- базовый шаблон проекта для быстрого старта.

## Содержание
- [Структура](#Структура)
- [Соглашение об именовании](#Соглашение-об-именовании)
    - [Прочти](#Прочти)
    - [Спецификация и советы](#Спецификация-и-советы)
- [Быстрый старт](#Быстрый-старт)
- [Планы к релизу первой мажорной версии](#Планы-к-релизу-первой-мажорной-версии)
- [Авторы](#Авторы)
- [Копирайт и лицензия](#Копирайт-и-лицензия)

## Структура
- `sources/` - директория исходных файлов проекта.
    - `{blockName}/` - директория блока.
        - `vendors/` - блок может включать в себя сторонние библиотеки (вендоры, поставщики), эта директория предназначена для их хранения. **Внимание!** Использование поставщика одного блока в других является плохой практикой, если есть необходимость в таком действии, возможно стоит выделить его в отдельный блок.
        - `{blockName}.js` - js реализация блока.
        - `{blockName}.less` - css (Less) реализация блока.
    - `_bases/` - core-блок (core-блок - не исключаемый из проекта блок с жизненно важным содержимым для проекта) содержащий базовые стили, скрипты, нормалайзеры и модернайзеры.
    - `_utilities/` - core-блок с коллекцией утилитных классов.
    - `mixins.less` - коллекция проектных миксинов для less.
    - `variables.js` - коллекция проектных глобальных переменных для js.
    - `variables.less` - коллекция проектных глобальных переменных для less.
- `blank/` - заготовка для быстрого старта работы над проектом, можно выносить за пределы директории SFET поправив путь к `static/` в `config.js` (параметр `build.path`).
    - `dynamic/`- директория для различных временных файлов, которые подключаются в html-коде проекта подразумевая их последующее динамическое изменение. После интеграции с CMS рекомендую избавится от этой директории во избежание замусоривания системы.
    - `static/` - директория для хранения статики проекта, сюда же Gulp кладет скомпилированные, склеенные и минифицинованные скрипты и стили блоков проекта. Можно переименовать или переместить изменив параметр `build.path` в `config.js`.
        - `favicon/` - директория для фавиконов проекта, рекомендую генерировать при помощи http://realfavicongenerator.net/.
        - `fonts/` - директория для шрифтов проекта (в том числе иконочных).
        - `images/` - графика, которая используется в стилях или скриптах.
        - `jquery-*.min.js` - файл библиотеки jQuery используемый при недоступности его из CDN.
        - `scripts.min.js` - склеенные и минифицинованные скрипты блоков проекта.
        - `styles.min.css` - скомпилированные, склеенные и минифицинованные стили блоков проекта.
    - `footer.php` - заготовки подвала проекта.
    - `header.php` - заготовка шапки проекта.
    - `index.php` - заготовка тела страницы проекта.
- `config.js` - файл конфигурации SFET.
- `declaration.js` - файл SFET для декларирования блоков проекта, позволяет контролировать очередь склейки кода (одинаковая последовательность для css/js) блоков и их поставщиков.
- `gulpfile.js`  - файл конфигурации системы сборки Gulp (обычно не требует никакого вмешательства, вноси изменения исключительно зная что делаешь и на свой страх и риск).
- `package.json` и `package-lock.json` - файлы пакетного менеджера NPM.

## Соглашение об именовании
Система именования SFET организована основываясь на методологии БЭМ.

### Прочти
- Официальная документация БЭМ
    - [Быстрый старт](https://ru.bem.info/methodology/quick-start/)
    - [Основные понятия](https://ru.bem.info/methodology/key-concepts/)
    - [Соглашение по именованию](https://ru.bem.info/methodology/naming-convention/)
    - [CSS по БЭМ](https://ru.bem.info/methodology/css/)
- [Неофициальная краткая документация БЭМ](http://nicothin.github.io/idiomatic-pre-CSS/)

### Спецификация и советы
- SFET использует смесь стилей [React](https://ru.bem.info/methodology/naming-convention/#%D0%A1%D1%82%D0%B8%D0%BB%D1%8C-react) и [No-namespace](https://ru.bem.info/methodology/naming-convention/#%D0%A1%D1%82%D0%B8%D0%BB%D1%8C-no-namespace):
    - Если имя блока, элемента или модификатора содержит несколько слов - разделяй их используя camelSpace.
    - Между блоком и элементом используй дефис "-": `.{blockName}-{elemName}`. Например, `.header-logo`.
    - Используй в качестве префикса для модификаторов подчеркивание "_": `._{modName}`. Например, `._shown`.
    - SFET допусткает использование модификатора без значений. Если же модификатор имеет значения, то используй между ними дефис "-": `._{modName}-{valName}`. Например, `._size-sm`.
- Названия папки и файлов блока должно включать в себя исключительно его название: `{blockName}/{blockName}.*`. Например, `header/header.less`.
- Присваивай class блока html-элементу, даже если к нему нет стилей: `class="{blockName}"`. Например, `class="header"`.
- Используй идентификаторы только для связи с js, каждый id должен включать префикс с названием блока указанный через дефис "-": `#{blockName}-*`. Например, `#modal-callback`.
- Включай во все data-атрибуты название блока в нижнем регистре (camelSpace вызовет семантические ошибки при чтении) - `data-{blockname}-*="..."`. Например, data-атрибут для блока `videoReview` или его элементов: `data-videoreview-src="..."`.
- Пиши стили элементов без вложенности в блок:
```less
// Неправильно
.modal {
    .modal-inner {
        ...
    }
}

// Правильно
.modal {
    ...
}
.modal-inner {
    ...
}
```
- В стилях объявляй модификаторы мультиклассом, SFET допускает возможность влиять на элементы модификатором блока при помощи вложенности (единственной допустимый случай):
```less
.modal {
    &._shown {
        .modal-inner {
            ...
        }
    }
}
```
- Использование модификаторов предполагает возможность их динамического переключения при помощи js (jQuery).
- Поскольку мы используем стиль No namespace, хорошим тоном будет присваивать в html классы модификаторов сразу после блоков или элементов к которым они принадлежат. Это, а также присваивание утилитарных классов после всех остальных, значительно упростит чтение кода. Например, `class="grid-col _ld-6 box _size-sm u-text-center"`.

### Зарезервированные пространства имен
Настоятельно рекомендуется избегать использования не по предназначению следующих пространств имен:
- Префикс `.u-{utilName}` используется для утилитных классов core-блока `utilities`. Например, `.u-text-center`.
- Объект `_v` используется как агрегатор глобальных переменных js в файле `variables.js`. Например, `_v.tds`.
- Префикс `@v-{varName}` используется для глобальных переменных less в файле `variables.less`. Например, `@v-clr-dark`.
- Префикс `.m-{mixinName}` используется для миксинов less в файле `mixins.less`. Например, `.m-px2em()`.

## Быстрый старт
- [Скачай](https://github.com/Seniorro/SFET/archive/master.zip) или клонируй репозиторий: `git clone https://github.com/Seniorro/SFET.git`.
- У тебя должны быть установлены [Node.js](https://nodejs.org/) и [PHP](http://php.net/downloads.php).
- Установи зависимости из `package.json`: `npm install`.
- Запусти [встроенный веб-сервер CLI SAPI](http://php.net/manual/ru/features.commandline.webserver.php) в директории `blank/`: `cd blank && php -S 127.0.0.1:8000`
- Используй такси Gulp:
    - `gulp` (`gulp default`)
    - `gulp build`
    - `gulp script`
    - `gulp styles`
    - `gulp del`

## Планы к релизу первой мажорной версии
- [x] Наполнить коллекцию миксинов.
- [ ] Найти замену блоку grid построенную на flexbox.
- [ ] Создать в gulpfile.js функцию для работы с sass, дать возможность выбора в config.js между less и sass.

## Авторы
- Dmitry Pripa - ceo@seniorro.com

## Копирайт и лицензия
© 2017-2018 [Seniorro](https://seniorro.com). Код опубликован за лицензией [MIT](https://github.com/Seniorro/SFET/blob/master/LICENSE).