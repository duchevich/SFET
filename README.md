![version](https://img.shields.io/badge/dynamic/json.svg?label=version&url=https%3A%2F%2Fraw.githubusercontent.com%2Fseniorro%2Fsfet%2Fmaster%2Fpackage.json&query=version&colorB=green)
![license](https://img.shields.io/badge/dynamic/json.svg?label=license&url=https%3A%2F%2Fraw.githubusercontent.com%2Fseniorro%2Fsfet%2Fmaster%2Fpackage.json&query=license&colorB=blue)

# Seniorro Front-End Toolkit (SFET)
SFET - это стек технологий для разработки front-end с простым и понятным минифреймворком. Содержит:
- таски для системы сборки Gulp;
- упрощенную интерпретацию именования методологии БЭМ - SBEM;
- набор базовых исходников оформленных в SBEM блоки для разработки HTML, CSS и JS;
- базовый шаблон проекта (php) для быстрого старта.


## Содержание
- [Быстрый старт](#Быстрый-старт)
- [Структура](#Структура)
- [Интерпретация БЭМ - SBEM](#Интерпретация-БЭМ---sbem)
    - [Принципы классического БЭМ в SBEM](#Принципы-классического-БЭМ-в-sbem)
    - [Пространства имен](#Пространства-имен)
    - [Советы](#Советы)
- [Конфигурирование SFET](#Конфигурирование-sfet)
- [Декларирование исходников](#Декларирование-исходников)
- [Авторы](#Авторы)
- [Копирайт и лицензия](#Копирайт-и-лицензия)


## Быстрый старт
- [Скачай](https://github.com/Seniorro/SFET/archive/master.zip) или клонируй репозиторий: `git clone https://github.com/Seniorro/SFET.git`.
- У тебя должны быть установлены [Node.js](https://nodejs.org/) и [PHP](http://php.net/downloads.php).
- Установи зависимости из `package.json`: `npm install`.
- Запусти [встроенный веб-сервер CLI SAPI](http://php.net/manual/ru/features.commandline.webserver.php) в директории `blank/`: `cd blank && php -S 127.0.0.1:8000`
- Используй такси Gulp:
    - `gulp` (`gulp default`)
    - `gulp build`
    - `gulp script`
    - `gulp styles`
    - `gulp del`


## Структура
- `sources/` - директория исходных файлов проекта.
    - `{sourceName}/` - директория исходника.
        - `vendors/` - исходник может включать в себя сторонние библиотеки (вендоры, поставщики), эта директория предназначена для их хранения.
        - `{sourceName}.js` - js реализация исходника.
        - `{sourceName}.less` - css (Less) реализация исходника.
    - `bases/` - базовые стили, стили к селекторам, скрипты, нормалайзеры и модернайзеры.
    - `su/` - коллекция утилитных классов.
    - `sv.js` - коллекция глобальных переменных для js.
    - `sv.less` - коллекция глобальных переменных для less.
- `blank/` - заготовка для быстрого старта работы, можно выносить за пределы директории SFET поправив путь к `static/` в `config.js` (параметр `build.path`).
    - `dynamic/`- директория для различных временных файлов, которые подключаются в html-коде проекта подразумевая их последующее динамическое изменение. После интеграции с CMS рекомендую избавится от этой директории во избежание замусоривания системы.
    - `static/` - директория для хранения статики проекта, сюда же Gulp кладет скомпилированные, склеенные и минифицинованные скрипты и стили исходников. Можно переименовать или переместить изменив параметр `build.path` в `config.js`.
        - `favicon/` - директория для фавиконов, рекомендую генерировать при помощи http://realfavicongenerator.net/.
        - `fonts/` - директория для шрифтов (в том числе иконочных).
        - `images/` - графика, которая используется в стилях или скриптах.
        - `jquery-*.min.js` - файл библиотеки jQuery используемый при недоступности его из CDN.
        - `common.min.js` - склеенные и минифицинованные скрипты исходников.
        - `common.min.css` - скомпилированные, склеенные и минифицинованные стили исходников.
    - `footer.php` - заготовка подвала проекта.
    - `header.php` - заготовка шапки проекта.
    - `index.php` - заготовка тела страницы проекта.
- `config.js` - файл конфигурации SFET.
- `declaration.js` - файл SFET для декларирования исходников проекта, позволяет контролировать очередь склейки (одинаковая последовательность для css/js) файлов.
- `gulpfile.js`  - файл конфигурации системы сборки Gulp.
- `package.json` и `package-lock.json` - файлы пакетного менеджера NPM.


## Интерпретация БЭМ - SBEM
SBEM - система именования (нейминг) широко используемая для оформления исходников SFET, организована основываясь на методологии БЭМ с добавлением практичных особенностей. Содержит пространства имен, чтобы избежать коллизий кода разного происхождения и не ограничивать тебя в нейминге. Если на твоем проекте не нужен SBEM - не используй его, или используй его для выборочных исходников - пространства имен позволяют это сделать.

### Принципы классического БЭМ в SBEM
- Официальная документация БЭМ
    - [Быстрый старт](https://ru.bem.info/methodology/quick-start/)
    - [Основные понятия](https://ru.bem.info/methodology/key-concepts/)
    - [Соглашение по именованию](https://ru.bem.info/methodology/naming-convention/)
        - [Стиль React](https://ru.bem.info/methodology/naming-convention/#%D0%A1%D1%82%D0%B8%D0%BB%D1%8C-react)
        - [Стиль No-namespace](https://ru.bem.info/methodology/naming-convention/#%D0%A1%D1%82%D0%B8%D0%BB%D1%8C-no-namespace)
    - [CSS по БЭМ](https://ru.bem.info/methodology/css/)
- [Неофициальная краткая документация БЭМ](http://nicothin.github.io/idiomatic-pre-CSS/)

### Пространства имен
SFET использует префиксы в виде сокращений sfet и описания сущности ("sfet variable" = sv) для обозначения пространств имен (неймспейсов).
- `sb` - (sfet block) неймспейс исходников в виде SBEM блоков:
    - Используй в качестве префикса в имени директорий/файлов (`sb-{blockName}/sb-{blockName}.*`) и классов (`.sb-{blockName}`) блоков.
    - В классе или id элемента между его именем и блоком используй дефис "-": `.sb-{blockName}-{elementName}`.
- `ss` - неймспейс классов модификаторов ("sfet setting" вместо "sfet modifier" во избежание путаницы с распостраненным сокращением sm - small) для SBEM блоков: `.ss-{modifierName}`.
    - SBEM допусткает использование модификатора без значений. Если же модификатор имеет значения, то используй между ними дефис "-": `.ss-{modifierName}-{valueName}`.
- `su` - (sfet utility) неймспейс утилитных классов одноименного исходника: `.su-{utilityName}`. 
- `sv` - (sfet variable) неймспейс глобальный переменных:
    - Объект `_SV` как агрегатор глобальных переменных js в файле `sv.js`.
    - Префикс `@sv-{varibleName}` для глобальных переменных less в файле `sv.less`.

### Советы
- Если имя блока, элемента или модификатора содержит несколько слов - разделяй их используя camelSpace.
- Класс блока на html-элементе указывает на его root, рекомендую присваивать `class="sb-{blockName}"` даже если к нему нет стилей.
- Включай во все data-атрибуты название блока в нижнем регистре (camelSpace вызовет семантические ошибки при чтении) - `data-sb-{blockname}-*="..."`. Например, data-атрибут для блока `sb-videoReview` или его элементов: `data-sb-videoreview-src="..."`.
- Пиши стили элементов без вложенности в блок:
```less
// Неправильно
.sb-modal {
    .sb-modal-inner {
        ...
    }
}
// Правильно
.sb-modal {
    &-inner {
        ...
    }
}
```
- В стилях объявляй модификаторы мультиклассом, SFET допускает возможность влиять на элементы модификатором блока при помощи вложенности:
```less
.sb-modal {
    &.ss-shown {
        .sb-modal-inner {
            ...
        }
    }
}
```
- Использование модификаторов предполагает возможность их динамического переключения при помощи js (jQuery).
- Поскольку мы используем стиль No namespace, хорошим тоном будет присваивать в html классы модификаторов сразу после блоков или элементов к которым они принадлежат. Это, а также присваивание утилитарных классов после всех остальных, значительно упростит чтение кода. Например, `class="sb-grid-col ss-ld-6 sb-box ss-size-sm su-text-center"`.


## Конфигурирование SFET
SFET позволяет настроить ряд опций в файле `config.js`.
- `watch`
    - `proxy`
    - `port`
    - `tpl`
- `sources`
    - `path`
- `build`
    - `sourceMaps`
    - `path`
    - `scripts`
        - `name`
        - `mangleExcept`
    - `styles`
        - `name`
        - `autoPrefixer`


## Декларирование исходников
Файл `declaration.js` существует для быстрого и удобного декларирования исходников проекта. Ключ `n` (name) - имя исходника, ключ `v` (vendors) - массив имен поставщиков исходника. Декларировать исходники следует в следующем формате:
```js
{n:'{sourceName}', v:['{vendor1Name}', '{vendor2Name}', '{vendor3Name}']}
```
*Внимание!* Последовательность исходников и поставщиков в декларации указывает на порядок склейки кода.


## Авторы
- Dmitry Pripa - ceo@seniorro.com


## Копирайт и лицензия
© 2017-2018 [Seniorro](https://seniorro.com). Код опубликован за лицензией [MIT](https://github.com/Seniorro/SFET/blob/master/LICENSE).